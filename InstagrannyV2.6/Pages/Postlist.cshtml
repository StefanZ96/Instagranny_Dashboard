@page
@using Microsoft.AspNetCore.Identity
@model InstagrannyV2.Pages.PostlistModel

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager
@{
    ViewData["Title"] = "Post List";
}



<div class="text-center">
    <h1 class="display-4 mt-5">Latest posts</h1>
    <h3 class="mt-4 mb-5">See what people have been up to lately!</h3>
</div>


@foreach (var post in Model.Posts)
{
    <div class="mt-3">
        <center class="fs-3">@post.Description</center>
        <p class="border-bottom border-3">User id: @post.creatorId</p>
        <p>Created at: @post.CreatedAt</p>
        @if (SignInManager.IsSignedIn(User))
        {
            
            <a asp-page="/DeletePost" asp-route-ID="@post.Id" class="btn btn-danger mb-1">Delete Post</a>
        }
    </div>
    
}