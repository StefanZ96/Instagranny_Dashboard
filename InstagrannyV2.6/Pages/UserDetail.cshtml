@page
@model InstagrannyV2.Pages.UserDetailModel
@using Microsoft.AspNetCore.Identity

@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
    ViewData["Title"] = "UserDetail";
}


<div clas="row">
    <a asp-page="/Userlist" class="btn btn-primary mb-1">Back to List</a>
    @if (SignInManager.IsSignedIn(User))
    {
        <a asp-page="/EditUserInformation" asp-route-ID="@Model.Profiles.Id" class="btn btn-danger mb-1">Edit User Information</a>
        <a asp-page="/DeleteUser" asp-route-ID="@Model.Profiles.Id" class="btn btn-danger mb-1">Delete User</a>
    }
</div>



<div class="row gx-0 justify-content-center">    
    
        <div class="card col-xl-6 col-lg-8 col-md-10 col-sm-10 col-xs-10 shadow ps-2 pe-2" style="border-radius:25px">
            <img src="~/Images/default_profile_picture.jpg" style="object-fit: contain; max-height:350px " class="mt-4" />            
            <h3 class="text-center">@Html.Raw("@")@Model.Users.Username</h3>

            <h4 class="text-center mb-4">@Model.Profiles.Bio</h4>

            <h5 class="text-center border-top">Account details</h5>
            <div class="row mt-3">
                <div class="col-6">
                    <div class="row ms-2 fs-5">Date joined </div>
                    <div class="row ms-2 fs-5">@Model.Users.Date_joined</div>
                </div>
                <div class="col-6">
                    <div class="row float-end me-2 fs-5">Last logged in </div>
                    <div class="row float-end me-2 fs-5">@Model.Users.Last_login</div>
                </div>
            </div>
            <div class="row mt-2">
                <div class="ms-2 mb-4 fs-5">Account tenure: @Model.AccountTenure days </div>
            </div>

            <h5 class="text-center border-top">User activity</h5>
            <div class="row">
                <div class="col-6">
                    <div class="row ms-2 fs-5"> Followers: @Model.UserFollowers.Count </div>

                    <div class="row ms-2 fs-5 mb-4">Following: @Model.UserFollowings.Count </div>
                </div>
                <div class="col-6">
                    <div class="row float-end me-2 fs-5">Times posted: @Model.UserPosts.Count</div>

                    <div class="row  float-end me-2 mb-4 fs-5">Total comments: @Model.UserComments.Count</div>
                </div>
            </div>
        </div>
    
</div>



